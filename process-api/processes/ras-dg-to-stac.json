{
    "info": {
        "version": "2024.2.17",
        "id": "ras-dg-to-stac",
        "title": "STAC Item Generation (RAS Depth Grid)",
        "description": "Creates a new stac item from a depth grid (COG)",
        "outputTransmission": null,
        "jobControlOptions": [
            "sync-execute"
        ]
    },
    "host": {
        "type": "local"
    },
    "container": {
        "image": "public.ecr.aws/s7t2t0q0/ras-stac:latest",
        "command": [
            "python",
            "-m",
            "new_ras_dg"
        ],
        "envVars": [
            "AWS_ACCESS_KEY_ID",
            "AWS_SECRET_ACCESS_KEY",
            "AWS_REGION"
        ],
        "maxResources": {
            "cpus": 0.1,
            "memory": 256
        }
    },
    "inputs": [
        {
            "id": "plan_dg",
            "title": "RAS Generated Depth Grid",
            "description": "Full S3 path to the depth grid file (i.e. s3://bucket/key/p01.tif)",
            "input": {
                "literalDataDomain": {
                    "dataType": "string",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 1,
            "maxOccurs": 1
        },
        {
            "id": "new_item_s3_key",
            "title": "STAC Item S3 Key",
            "description": "Full S3 path to STAC item for depth grid. Prefix must begin with `stac/` (i.e. s3://bucket/stac/p01.hdf.json)",
            "input": {
                "literalDataDomain": {
                    "dataType": "string",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 1,
            "maxOccurs": 1
        },
        {
            "id": "plan_item_s3_key",
            "title": "STAC Plan Item S3 Key",
            "description": "Full S3 path to STAC item from plan_hdf used to generate the depth grid. (i.e. s3://bucket/stac/plan.hdf.json)",
            "input": {
                "literalDataDomain": {
                    "dataType": "string",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 1,
            "maxOccurs": 1
        },
        {
            "id": "dg_id",
            "title": "Depth Grid ID",
            "description": "Unique identifier for the depth grid (i.e. \"modelx-r0001-s0001-grid_23\")",
            "input": {
                "literalDataDomain": {
                    "dataType": "string",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 1,
            "maxOccurs": 1
        },
        {
            "id": "assets",
            "title": "Miscelaneous Assets",
            "description": "HEC-RAS datasets used in the simulation  (i.e. [s3://bucket/model/dg.vrt])",
            "input": {
                "literalDataDomain": {
                    "dataType": "list",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 0,
            "maxOccurs": 10
        },
        {
            "id": "item_props",
            "title": "Item Properties",
            "description": "Dictionary of items  (i.e. {\"cloud_wat:realization\":\"1\"})",
            "input": {
                "literalDataDomain": {
                    "dataType": "list",
                    "valueDefinition": {
                        "anyValue": true
                    }
                }
            },
            "minOccurs": 0,
            "maxOccurs": 100
        }
    ],
    "outputs": [
        {
            "id": "results",
            "title": "results",
            "description": null,
            "output": {
                "transmissionMode": [
                    "value"
                ]
            }
        }
    ]
}